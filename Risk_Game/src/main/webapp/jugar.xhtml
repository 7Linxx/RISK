<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<title>Risk Global Domination</title>
	<link rel="stylesheet" href="styles/jugar.css"></link>
	<script src="js/menu.js"></script>
	<script>
		function showGameModes() {
			document.getElementById('btn-jugar').style.display = 'none';
			document.getElementById('game-mode-panel').style.display = 'block';
		}
		function backToMainPanel() {
			document.getElementById('game-mode-panel').style.display = 'none';
			document.getElementById('btn-jugar').style.display = 'block';
		}
		function toggleMenu() {
			const menu = document.getElementById("settingsMenu");
			menu.style.display = (menu.style.display === "block") ? "none"
					: "block";
		}
		let selectedMode = "";

		function showGameModes() {
			document.getElementById('btn-jugar').style.display = 'none';
			document.getElementById('game-mode-panel').style.display = 'block';
		}
		function backToMainPanel() {
			document.getElementById('game-mode-panel').style.display = 'none';
			document.getElementById('btn-jugar').style.display = 'block';
			document.getElementById('player-count-panel').style.display = 'none';
			selectedMode = "";
		}

		function selectMode(mode) {
			selectedMode = mode; // Guardamos la selección
			document.getElementById('game-mode-panel').style.display = 'none';
			document.getElementById('player-count-panel').style.display = 'block';
			// Cambia el título si quieres que se vea el modo elegido
			document.getElementById('player-count-title').textContent = "¿Cuántos jugadores van a jugar "
					+ mode + "?";
		}

		function choosePlayers(count) {
			// Redirección según el modo y cantidad de jugadores
			let modePage = "";
			if (selectedMode === "Conquista") {
				if (count == 2)
					modePage = "conquista2.xhtml";
				else if (count == 3)
					modePage = "conquista3.xhtml";
				else if (count == 4)
					modePage = "conquista4.xhtml";
				else if (count == 1)
					modePage = "conquistaSolo.xhtml";
			} else if (selectedMode === "Secreta") {
				if (count == 2)
					modePage = "mision2.xhtml";
				else if (count == 3)
					modePage = "mision3.xhtml";
				else if (count == 4)
					modePage = "mision4.xhtml";
				else if (count == 1)
					modePage = "misionSolo.xhtml";
			} else if (selectedMode === "Capitales") {
				if (count == 2)
					modePage = "capitales2.xhtml";
				else if (count == 3)
					modePage = "capitales3.xhtml";
				else if (count == 4)
					modePage = "capitales4.xhtml";
				else if (count == 1)
					modePage = "capitalesSolo.xhtml";
			}
			if (modePage !== "") {
				window.location = modePage; // Redirige al archivo correspondiente
			}
		}
	</script>
</h:head>
<h:body>
	<div class="container">
		<div class="header">
			<img class="logo-risk" src="images/logo.png" alt="Risk Logo" />
			<div class="settings-area">
				<button class="gear" id="gearBtn" type="button"
					aria-label="Configuración"
					onclick="toggleMenu(); event.stopPropagation();">
					<img src="images/setting.png" class="gear-img" alt="Configuración" />
				</button>
				<div id="settingsMenu" class="settings-menu">
					<div class="settings-menu-item"
						onclick="window.location='historial.xhtml'">Historial</div>
					<div class="settings-menu-item"
						onclick="window.location='reglas.xhtml'">Reglas</div>
					<div class="settings-menu-item"
						onclick="window.location='index.xhtml'">Cerrar sesión</div>
				</div>
			</div>
		</div>
		<div class="map-section">
			<h:commandButton id="btn-jugar" styleClass="play-btn" value="JUGAR"
				onclick="showGameModes(); return false;" />

			<div id="game-mode-panel">
				<button type="button" class="back-arrow-btn"
					onclick="backToMainPanel()">
					<svg class="arrow-svg" viewBox="0 0 42 42"> <polyline
						points="30,4 11,21 30,38" /> </svg>
				</button>
				<div class="game-mode-header">
					<span class="game-mode-title">Escoge un modo de juego</span>
				</div>
				<div class="game-modes-row">
					<button class="mode-btn" onclick="selectMode('Conquista')">Conquista
						el mundo</button>
					<button class="mode-btn" onclick="selectMode('Secreta')">Mision
						Secreta</button>
					<button class="mode-btn" onclick="selectMode('Capitales')">Capitales</button>
				</div>
			</div>
		</div>
		<!-- Panel de preguntas de cantidad de jugadores -->
		<div id="player-count-panel">
			<button type="button" class="back-arrow-btn"
				onclick="backToMainPanel()">
				<svg class="arrow-svg" viewBox="0 0 42 42"> <polyline
					points="30,4 11,21 30,38" /> </svg>
			</button>
			<div class="player-count-header">
				<span class="player-count-title" id="player-count-title">
					¿Cuántos jugadores van a jugar? </span>
			</div>
			<div class="player-count-row">
				<button class="count-btn" onclick="choosePlayers(2)">2
					jugadores</button>
				<button class="count-btn" onclick="choosePlayers(3)">3
					jugadores</button>
				<button class="count-btn" onclick="choosePlayers(4)">4
					jugadores</button>
				<button class="count-btn" onclick="choosePlayers(1)">Solitario</button>
			</div>
		</div>
	</div>
</h:body>
</html>